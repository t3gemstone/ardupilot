# T3 Gemstone O1

# Docs: https://docs.t3gemstone.org/en/sdk

env TOOLCHAIN aarch64-linux-gnu

# IMUs: LSM6DSO
IMU LSM6DSO I2C:3:0x6b ROTATION_NONE
define INS_MAX_INSTANCES 3

# Compasses: MMC5603
COMPASS MMC5603 I2C:3:0x30 0 ROTATION_NONE
define HAL_PROBE_EXTERNAL_I2C_COMPASSES 1

# Baros:
define HAL_BARO_DEFAULT HAL_BARO_NONE
define HAL_BARO_ALLOW_INIT_NO_BARO 1
define AP_BARO_BACKEND_DEFAULT_ENABLED 0
define HAL_BARO_USE_BOARD 0

# PWM: 6 hardware PWM chips from GPIO

# ADC: ADS1115

# CAN Support:
env WITH_CAN 1
define HAL_NUM_CAN_IFACES 1

# GPIO:
define HAL_LINUX_GPIO_T3_GEM_O1_ENABLED 1

# Leds:
# https://ardupilot.org/copter/docs/common-leds-pixhawk.html#common-leds-pixhawk
define AP_NOTIFY_GPIO_LED_2_ENABLED 1
define DEFAULT_NTF_LED_TYPES (Notify_LED_Board)
define HAL_GPIO_A_LED_PIN 0 # Green
define HAL_GPIO_B_LED_PIN 1 # Red
define HAL_GPIO_LED_ON    1

# Buzzer:
define AP_NOTIFY_BUZZER_ENABLED 1
define HAL_BUZZER_PIN 2

# Directories:
define HAL_BOARD_LOG_DIRECTORY "/home/gemstone/ardupilot/logs"
define HAL_BOARD_TERRAIN_DIRECTORY "/home/gemstone/ardupilot/terrain"
define HAL_BOARD_STORAGE_DIRECTORY "/home/gemstone/ardupilot"
define HAL_PARAM_DEFAULTS_PATH "/home/gemstone/ardupilot.parm"

// FIXME: use of this define should go away:
define CONFIG_HAL_BOARD_SUBTYPE HAL_BOARD_SUBTYPE_LINUX_T3_GEM_O1
